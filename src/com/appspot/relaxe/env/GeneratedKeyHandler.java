/*
 * Copyright (c) 2009-2013 Topi Nieminen
 */
package com.appspot.relaxe.env;

import java.sql.SQLException;
import java.sql.Statement;

import com.appspot.relaxe.ent.Attribute;
import com.appspot.relaxe.ent.Entity;
import com.appspot.relaxe.ent.EntityException;
import com.appspot.relaxe.ent.EntityMetaData;
import com.appspot.relaxe.ent.Reference;
import com.appspot.relaxe.expr.InsertStatement;
import com.appspot.relaxe.types.ReferenceType;


public interface GeneratedKeyHandler {
	
	/**
	 * Process the values generated by the INSERT statement. 
	 * 
	 * @param <A>
	 * @param <R>
	 * @param <T>
	 * @param <E>
	 * @param <M>
	 * @param insert
	 * @param target
	 * @param qs
	 * @throws SQLException
	 * @throws EntityException
	 */	
	<
	    A extends Attribute,
	    R extends Reference,
	    T extends ReferenceType<A, R, T, E, ?, ?, M, ?>,
	    E extends Entity<A, R, T, E, ?, ?, M, ?>,
		M extends EntityMetaData<A, R, T, E, ?, ?, M, ?>
	>
	void processGeneratedKeys(InsertStatement insert, E target, Statement qs)
		throws SQLException, EntityException;
}
